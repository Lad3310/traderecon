{"ast":null,"code":"export const compareTrades = (internalTrade, externalTrade) => {\n  if (!internalTrade || !externalTrade) return null;\n  const discrepancies = {\n    price: Math.abs(internalTrade.price - externalTrade.price) > 0.01,\n    // Allow for small decimal differences\n    quantity: internalTrade.quantity !== externalTrade.quantity,\n    settlementdate: new Date(internalTrade.settlementdate).getTime() !== new Date(externalTrade.settlementdate).getTime(),\n    hasDiscrepancy: false,\n    details: []\n  };\n\n  // Build detailed discrepancy messages\n  if (discrepancies.price) {\n    discrepancies.details.push(`Price: ${internalTrade.price} vs ${externalTrade.price}`);\n  }\n  if (discrepancies.quantity) {\n    discrepancies.details.push(`Quantity: ${internalTrade.quantity} vs ${externalTrade.quantity}`);\n  }\n  if (discrepancies.settlementdate) {\n    discrepancies.details.push(`Settlement: ${new Date(internalTrade.settlementdate).toLocaleDateString()} vs ${new Date(externalTrade.settlementdate).toLocaleDateString()}`);\n  }\n  discrepancies.hasDiscrepancy = discrepancies.details.length > 0;\n  return discrepancies;\n};\nexport const findMatchingTrade = (internalTrade, externalTrades) => {\n  return externalTrades.find(extTrade => extTrade.securitysymbol === internalTrade.securitysymbol && extTrade.tradedate === internalTrade.tradedate && extTrade.counterparty === internalTrade.counterparty);\n};","map":{"version":3,"names":["compareTrades","internalTrade","externalTrade","discrepancies","price","Math","abs","quantity","settlementdate","Date","getTime","hasDiscrepancy","details","push","toLocaleDateString","length","findMatchingTrade","externalTrades","find","extTrade","securitysymbol","tradedate","counterparty"],"sources":["/Users/joelaird/TradeRecon/src/services/tradeComparison.js"],"sourcesContent":["export const compareTrades = (internalTrade, externalTrade) => {\n  if (!internalTrade || !externalTrade) return null;\n\n  const discrepancies = {\n    price: Math.abs(internalTrade.price - externalTrade.price) > 0.01, // Allow for small decimal differences\n    quantity: internalTrade.quantity !== externalTrade.quantity,\n    settlementdate: new Date(internalTrade.settlementdate).getTime() !== new Date(externalTrade.settlementdate).getTime(),\n    hasDiscrepancy: false,\n    details: []\n  };\n\n  // Build detailed discrepancy messages\n  if (discrepancies.price) {\n    discrepancies.details.push(`Price: ${internalTrade.price} vs ${externalTrade.price}`);\n  }\n  if (discrepancies.quantity) {\n    discrepancies.details.push(`Quantity: ${internalTrade.quantity} vs ${externalTrade.quantity}`);\n  }\n  if (discrepancies.settlementdate) {\n    discrepancies.details.push(\n      `Settlement: ${new Date(internalTrade.settlementdate).toLocaleDateString()} vs ${new Date(externalTrade.settlementdate).toLocaleDateString()}`\n    );\n  }\n\n  discrepancies.hasDiscrepancy = discrepancies.details.length > 0;\n  return discrepancies;\n};\n\nexport const findMatchingTrade = (internalTrade, externalTrades) => {\n  return externalTrades.find(extTrade => \n    extTrade.securitysymbol === internalTrade.securitysymbol && \n    extTrade.tradedate === internalTrade.tradedate &&\n    extTrade.counterparty === internalTrade.counterparty\n  );\n}; "],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAGA,CAACC,aAAa,EAAEC,aAAa,KAAK;EAC7D,IAAI,CAACD,aAAa,IAAI,CAACC,aAAa,EAAE,OAAO,IAAI;EAEjD,MAAMC,aAAa,GAAG;IACpBC,KAAK,EAAEC,IAAI,CAACC,GAAG,CAACL,aAAa,CAACG,KAAK,GAAGF,aAAa,CAACE,KAAK,CAAC,GAAG,IAAI;IAAE;IACnEG,QAAQ,EAAEN,aAAa,CAACM,QAAQ,KAAKL,aAAa,CAACK,QAAQ;IAC3DC,cAAc,EAAE,IAAIC,IAAI,CAACR,aAAa,CAACO,cAAc,CAAC,CAACE,OAAO,CAAC,CAAC,KAAK,IAAID,IAAI,CAACP,aAAa,CAACM,cAAc,CAAC,CAACE,OAAO,CAAC,CAAC;IACrHC,cAAc,EAAE,KAAK;IACrBC,OAAO,EAAE;EACX,CAAC;;EAED;EACA,IAAIT,aAAa,CAACC,KAAK,EAAE;IACvBD,aAAa,CAACS,OAAO,CAACC,IAAI,CAAC,UAAUZ,aAAa,CAACG,KAAK,OAAOF,aAAa,CAACE,KAAK,EAAE,CAAC;EACvF;EACA,IAAID,aAAa,CAACI,QAAQ,EAAE;IAC1BJ,aAAa,CAACS,OAAO,CAACC,IAAI,CAAC,aAAaZ,aAAa,CAACM,QAAQ,OAAOL,aAAa,CAACK,QAAQ,EAAE,CAAC;EAChG;EACA,IAAIJ,aAAa,CAACK,cAAc,EAAE;IAChCL,aAAa,CAACS,OAAO,CAACC,IAAI,CACxB,eAAe,IAAIJ,IAAI,CAACR,aAAa,CAACO,cAAc,CAAC,CAACM,kBAAkB,CAAC,CAAC,OAAO,IAAIL,IAAI,CAACP,aAAa,CAACM,cAAc,CAAC,CAACM,kBAAkB,CAAC,CAAC,EAC9I,CAAC;EACH;EAEAX,aAAa,CAACQ,cAAc,GAAGR,aAAa,CAACS,OAAO,CAACG,MAAM,GAAG,CAAC;EAC/D,OAAOZ,aAAa;AACtB,CAAC;AAED,OAAO,MAAMa,iBAAiB,GAAGA,CAACf,aAAa,EAAEgB,cAAc,KAAK;EAClE,OAAOA,cAAc,CAACC,IAAI,CAACC,QAAQ,IACjCA,QAAQ,CAACC,cAAc,KAAKnB,aAAa,CAACmB,cAAc,IACxDD,QAAQ,CAACE,SAAS,KAAKpB,aAAa,CAACoB,SAAS,IAC9CF,QAAQ,CAACG,YAAY,KAAKrB,aAAa,CAACqB,YAC1C,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}